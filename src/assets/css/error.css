/* ====== WRAPPER CON INTERFERENCIA ====== */
.err-wrap {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: #000;                 /* base negra */
  color: #e9e9f4;
  overflow: hidden;
  isolation: isolate;               /* aísla las capas de mezcla */
}

/* Ruido estático (TV) */
.err-wrap::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  /* SVG con feTurbulence (ojo con %23 para el # del id) */
}

/* Líneas horizontales (scanlines) */
.err-wrap::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events:none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,.08) 0px,
    rgba(255,255,255,.08) 1px,
    transparent 2px,
    transparent 4px
  );
  opacity: .20;
  animation: tvLines 4s linear infinite;
  z-index: 1;
  mix-blend-mode: overlay;
}

/* Contenido por encima de la interferencia */
.panel, .badge, .fx {
  position: relative;
  z-index: 2;
}

/* ====== CARTEL / PANEL ====== */
.badge{
  position:absolute; top:20px; left:20px;
  font-size:.78rem; letter-spacing:.04em;
  border:1px solid rgba(255,255,255,.1);
  padding:.5rem .6rem; background:rgba(0,0,0,.35);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
}

.panel{
  width:min(860px, 90vw);
  padding:3rem 2rem 2rem;
  background: linear-gradient(180deg, rgba(14,14,20,.85), rgba(6,6,10,.9));
  border:1px solid rgba(255,255,255,.08);
  box-shadow: 0 22px 60px rgba(0,0,0,.65), 0 0 0 1px rgba(255,255,255,.03) inset;
  text-align:center; border-radius:14px;
}

.title{
  font-size:clamp(2rem, 7vw, 4rem);
  letter-spacing:.2em; margin:0 0 .75rem;
}
.sub{ opacity:.9; margin:.25rem 0 1.5rem; line-height:1.6; }
.actions{ display:flex; gap:.75rem; justify-content:center; }

/* ====== GLITCH SUAVE DEL TÍTULO ====== */
.glitch{ position:relative; display:inline-block; }
.glitch::before, .glitch::after{
  content: attr(data-text); position:absolute; inset:0; pointer-events:none; opacity:0;
}
.glitch::before{ color:#00ffff; mix-blend-mode:screen; }
.glitch::after { color:#ff00ff; mix-blend-mode:screen; }
.glitch:hover::before, .glitch:hover::after{
  opacity:.9; animation: gshift .38s steps(18,end) infinite;
}
@keyframes gshift{
  0%{ transform:translate(0,0) }
  20%{ transform:translate(2px,-1px) }
  40%{ transform:translate(-3px,1px) }
  60%{ transform:translate(3px,0) }
  80%{ transform:translate(-1px,-2px) }
  100%{ transform:translate(0,0) }
}

/* ====== EFECTOS EXTRAS (VIÑETA + SCAN SUAVE) ====== */
.fx{ position:absolute; inset:0; pointer-events:none; }
.fx--vignette{
  background: radial-gradient(60% 60% at 50% 50%, transparent 60%, rgba(0,0,0,.5) 100%);
}
.fx--scan{
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,.04) 0px,
    rgba(255,255,255,.04) 1px,
    transparent 2px,
    transparent 4px
  );
  mix-blend-mode: overlay; opacity:.35; animation: scanMove 6s linear infinite;
}
@keyframes scanMove{
  0%{ background-position: 0 0 }
  100%{ background-position: 0 200px }
}

/* ====== ANIMACIONES TV ====== */
@keyframes tvNoise {
  0% { background-position: 0 0; }
  100% { background-position: 200px 200px; }
}
@keyframes tvLines {
  0% { background-position: 0 0; }
  100% { background-position: 0 100px; }
}

/* Respeta reduce-motion */
@media (prefers-reduced-motion: reduce){
  .err-wrap::before,
  .err-wrap::after,
  .fx--scan{ animation: none; }
}
